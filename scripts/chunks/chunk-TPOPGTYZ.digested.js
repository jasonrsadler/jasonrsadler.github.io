/**! @license Third-party licenses available at bandzoogle.com/licenses */
function ie(e){let t=document.createElement("template");return t.innerHTML=e.trim(),t.content?t.content.firstChild:t.firstChild}function _(e){return document.createRange().createContextualFragment(e)}function O(){let e=document.querySelector('meta[name="csrf-token"]');return null!==e?e.content:null}function Q(e,t,{headers:n={}}={}){return{method:e,headers:{"X-Requested-With":"XMLHttpRequest","X-CSRF-Token":O(),...n},credentials:"same-origin",body:t}}function oe(e,t,{contentType:n="application/json"}={}){let r={accept:"application/json"};return n&&(r["Content-Type"]=n),Q(e,t,{headers:r})}function V(e,t,n={}){e&&t&&([e].concat(Array.from(e.querySelectorAll("[data-controller]"))).forEach((e=>{e.closest('[data-turbo-morph-permanent="true"]')||(e.dataset.controller="")})),requestAnimationFrame((()=>{F.morph(e,t,n),e.dispatchEvent(new CustomEvent("DomRefresher:Morphed",{bubbles:!0,cancelable:!0}))})))}async function ae(e,t,n="append"){return fetch(e,{method:"GET",headers:{"Content-Type":"text/html","X-CSRF-Token":O()},credentials:"same-origin"}).then((e=>e.ok?e.text():null)).then((e=>{if(null===e)return;let r=_(e),l=null;r.firstChild.id&&(l=document.getElementById(r.firstChild.id)),!t&&l?t=l:t||(t=document.body),"replace"===n||"replaceOrAppend"===n&&l?V(l,e):t.appendChild(r)}))}function ue(e){let t=document.createElement("pre"),n=document.createTextNode(e);return t.appendChild(n),t.innerHTML}function se(e){let t=Math.floor(e/1e3),n=Math.floor(t/60),r=t-60*n;return`${n}:${r<10?`0${r}`:r}`}function fe(e,t){if(0===e)return"0 Bytes";let n=1e3,r=t||2,l=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],o=Math.floor(Math.log(e)/Math.log(n));return`${parseFloat((e/n**o).toFixed(r))} ${l[o]}`}function x(e){return(e?"add":"remove")+"EventListener"}function de(e,t,n,r,l={}){e[x(r)](t,n,l)}function ce(e,t,n){document.querySelector(`#${e} [name="${t}"]`).required=n}function ee(e,t,n){return Number.isNaN(e)&&(e=0),`${t}${e.toFixed(n).toLocaleString("en-US")}`}function he(e,t,n){return Number.isNaN(e)||0===e?window.I18n.t("dictionary.free"):ee(e,t,n)}function k(e){return`0${parseInt(e,10).toString(16)}`.slice(-2)}function te(e){if(-1===e.search("rgb"))return e;let t=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+))?\)$/);return`#${k(t[1])}${k(t[2])}${k(t[3])}`}function pe(e){let t=document.createElement(e);t.style="display: none;",document.getElementById("usersite-container").append(t);let n=window.getComputedStyle(t).getPropertyValue("color");return t.remove(),te(n)}var F=function(){"use strict";function e(e,n,r={}){e instanceof Document&&(e=e.documentElement),"string"==typeof n&&(n=v(n));let l=y(n);return t(e,l,f(e,l,r))}function t(e,n,o){if(o.head.block){let r=e.querySelector("head"),l=n.querySelector("head");if(r&&l){let a=d(l,r,o);return void Promise.all(a).then((function(){t(e,n,Object.assign(o,{head:{block:!1,ignore:!0}}))}))}}if("innerHTML"===o.morphStyle)return l(n,e,o),e.children;if("outerHTML"===o.morphStyle||null==o.morphStyle){let t=k(n,e,o),l=t?.previousSibling,a=t?.nextSibling,i=r(e,t,o);return t?S(l,i,a):[]}throw"Do not understand how to morph style "+o.morphStyle}function n(e,t){return t.ignoreActiveValue&&e===document.activeElement}function r(e,t,r){if(!r.ignoreActive||e!==document.activeElement)return null==t?!1===r.callbacks.beforeNodeRemoved(e)?e:(e.remove(),r.callbacks.afterNodeRemoved(e),null):h(e,t)?(!1===r.callbacks.beforeNodeMorphed(e,t)||(e instanceof HTMLHeadElement&&r.head.ignore||(e instanceof HTMLHeadElement&&"morph"!==r.head.style?d(t,e,r):(a(t,e,r),n(e,r)||l(t,e,r))),r.callbacks.afterNodeMorphed(e,t)),e):!1===r.callbacks.beforeNodeRemoved(e)||!1===r.callbacks.beforeNodeAdded(t)?e:(e.parentElement.replaceChild(t,e),r.callbacks.afterNodeAdded(t),r.callbacks.afterNodeRemoved(e),t)}function l(e,t,n){let l,o=e.firstChild,a=t.firstChild;for(;o;){if(l=o,o=l.nextSibling,null==a){if(!1===n.callbacks.beforeNodeAdded(l))return;t.appendChild(l),n.callbacks.afterNodeAdded(l),T(n,l);continue}if(m(l,a,n)){r(a,l,n),a=a.nextSibling,T(n,l);continue}let i=b(e,t,l,a,n);if(i){a=p(a,i,n),r(i,l,n),T(n,l);continue}let u=g(e,t,l,a,n);if(u)a=p(a,u,n),r(u,l,n),T(n,l);else{if(!1===n.callbacks.beforeNodeAdded(l))return;t.insertBefore(l,a),n.callbacks.afterNodeAdded(l),T(n,l)}}for(;null!==a;){let e=a;a=a.nextSibling,M(e,n)}}function o(e,t,n,r){return!("value"!==e||!r.ignoreActiveValue||t!==document.activeElement)||!1===r.callbacks.beforeAttributeUpdated(e,t,n)}function a(e,t,r){let l=e.nodeType;if(1===l){let n=e.attributes,l=t.attributes;for(let e of n)o(e.name,t,"update",r)||t.getAttribute(e.name)!==e.value&&t.setAttribute(e.name,e.value);for(let n=l.length-1;0<=n;n--){let a=l[n];o(a.name,t,"remove",r)||e.hasAttribute(a.name)||t.removeAttribute(a.name)}}(8===l||3===l)&&t.nodeValue!==e.nodeValue&&(t.nodeValue=e.nodeValue),n(t,r)||u(e,t,r)}function i(e,t,n,r){if(e[n]!==t[n]){let l=o(n,t,"update",r);l||(t[n]=e[n]),e[n]?l||t.setAttribute(n,e[n]):o(n,t,"remove",r)||t.removeAttribute(n)}}function u(e,t,n){if(e instanceof HTMLInputElement&&t instanceof HTMLInputElement&&"file"!==e.type){let r=e.value,l=t.value;i(e,t,"checked",n),i(e,t,"disabled",n),e.hasAttribute("value")?r!==l&&(o("value",t,"update",n)||(t.setAttribute("value",r),t.value=r)):o("value",t,"remove",n)||(t.value="",t.removeAttribute("value"))}else if(e instanceof HTMLOptionElement)i(e,t,"selected",n);else if(e instanceof HTMLTextAreaElement&&t instanceof HTMLTextAreaElement){let r=e.value,l=t.value;if(o("value",t,"update",n))return;r!==l&&(t.value=r),t.firstChild&&t.firstChild.nodeValue!==r&&(t.firstChild.nodeValue=r)}}function d(e,t,n){let r=[],l=[],o=[],a=[],i=n.head.style,u=new Map;for(let t of e.children)u.set(t.outerHTML,t);for(let e of t.children){let t=u.has(e.outerHTML),r=n.head.shouldReAppend(e),d=n.head.shouldPreserve(e);t||d?r?l.push(e):(u.delete(e.outerHTML),o.push(e)):"append"===i?r&&(l.push(e),a.push(e)):!1!==n.head.shouldRemove(e)&&l.push(e)}a.push(...u.values());let d=[];for(let e of a){let l=document.createRange().createContextualFragment(e.outerHTML).firstChild;if(!1!==n.callbacks.beforeNodeAdded(l)){if(l.href||l.src){let e=null,t=new Promise((function(t){e=t}));l.addEventListener("load",(function(){e()})),d.push(t)}t.appendChild(l),n.callbacks.afterNodeAdded(l),r.push(l)}}for(let e of l)!1!==n.callbacks.beforeNodeRemoved(e)&&(t.removeChild(e),n.callbacks.afterNodeRemoved(e));return n.head.afterHeadMorphed(t,{added:r,kept:o,removed:l}),d}function c(){}function s(e){let t={};return Object.assign(t,L),Object.assign(t,e),t.callbacks={},Object.assign(t.callbacks,L.callbacks),Object.assign(t.callbacks,e.callbacks),t.head={},Object.assign(t.head,L.head),Object.assign(t.head,e.head),t}function f(e,t,n){return{target:e,newContent:t,config:n=s(n),morphStyle:n.morphStyle,ignoreActive:n.ignoreActive,ignoreActiveValue:n.ignoreActiveValue,idMap:H(e,t),deadIds:new Set,callbacks:n.callbacks,head:n.head}}function m(e,t,n){return null!=e&&null!=t&&(e.nodeType===t.nodeType&&e.tagName===t.tagName&&(""!==e.id&&e.id===t.id||x(n,e,t)>0))}function h(e,t){return null!=e&&null!=t&&(e.nodeType===t.nodeType&&e.tagName===t.tagName)}function p(e,t,n){for(;e!==t;){let t=e;e=e.nextSibling,M(t,n)}return T(n,t),t.nextSibling}function b(e,t,n,r,l){let o=x(l,n,t),a=null;if(o>0){let t=r,a=0;for(;null!=t;){if(m(n,t,l))return t;if(a+=x(l,t,e),a>o)return null;t=t.nextSibling}}return a}function g(e,t,n,r,l){let o=r,a=n.nextSibling,i=0;for(;null!=o;){if(x(l,o,e)>0)return null;if(h(n,o))return o;if(h(a,o)&&(i++,a=a.nextSibling,i>=2))return null;o=o.nextSibling}return o}function v(e){let t=new DOMParser,n=e.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,"");if(n.match(/<\/html>/)||n.match(/<\/head>/)||n.match(/<\/body>/)){let r=t.parseFromString(e,"text/html");if(n.match(/<\/html>/))return r.generatedByIdiomorph=!0,r;{let e=r.firstChild;return e?(e.generatedByIdiomorph=!0,e):null}}{let n=t.parseFromString("<body><template>"+e+"</template></body>","text/html").body.querySelector("template").content;return n.generatedByIdiomorph=!0,n}}function y(e){if(null==e)return document.createElement("div");if(e.generatedByIdiomorph)return e;if(e instanceof Node){let t=document.createElement("div");return t.append(e),t}{let t=document.createElement("div");for(let n of[...e])t.append(n);return t}}function S(e,t,n){let r=[],l=[];for(;null!=e;)r.push(e),e=e.previousSibling;for(;r.length>0;){let e=r.pop();l.push(e),t.parentElement.insertBefore(e,t)}for(l.push(t);null!=n;)r.push(n),l.push(n),n=n.nextSibling;for(;r.length>0;)t.parentElement.insertBefore(r.pop(),t.nextSibling);return l}function k(e,t,n){let r;r=e.firstChild;let l=r,o=0;for(;r;){let e=A(r,t,n);e>o&&(l=r,o=e),r=r.nextSibling}return l}function A(e,t,n){return h(e,t)?.5+x(n,e,t):0}function M(e,t){T(t,e),!1!==t.callbacks.beforeNodeRemoved(e)&&(e.remove(),t.callbacks.afterNodeRemoved(e))}function N(e,t){return!e.deadIds.has(t)}function E(e,t,n){return(e.idMap.get(n)||R).has(t)}function T(e,t){let n=e.idMap.get(t)||R;for(let t of n)e.deadIds.add(t)}function x(e,t,n){let r=e.idMap.get(t)||R,l=0;for(let t of r)N(e,t)&&E(e,t,n)&&++l;return l}function C(e,t){let n=e.parentElement,r=e.querySelectorAll("[id]");for(let e of r){let r=e;for(;r!==n&&null!=r;){let n=t.get(r);null==n&&(n=new Set,t.set(r,n)),n.add(e.id),r=r.parentElement}}}function H(e,t){let n=new Map;return C(e,n),C(t,n),n}let R=new Set,L={morphStyle:"outerHTML",callbacks:{beforeNodeAdded:c,afterNodeAdded:c,beforeNodeMorphed:c,afterNodeMorphed:c,beforeNodeRemoved:c,afterNodeRemoved:c,beforeAttributeUpdated:c},head:{style:"merge",shouldPreserve:function(e){return"true"===e.getAttribute("im-preserve")},shouldReAppend:function(e){return"true"===e.getAttribute("im-re-append")},shouldRemove:c,afterHeadMorphed:c}};return{morph:e,defaults:L}}();export{F as a,ie as b,_ as c,O as d,Q as e,oe as f,V as g,ae as h,ue as i,se as j,fe as k,x as l,de as m,ce as n,ee as o,he as p,pe as q};