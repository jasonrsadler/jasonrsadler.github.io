/**! @license Third-party licenses available at bandzoogle.com/licenses */
function j(e){let t=e.getBoundingClientRect(),r=window.innerHeight||document.documentElement.clientHeight,i=window.innerWidth||document.documentElement.clientWidth,n=t.top<=r&&t.top+t.height>0,s=t.left<=i&&t.left+t.width>0;return n&&s}function F(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]])}return r}import{b as g}from"/scripts/chunks/chunk-YX7F2HNK.digested.js";var m=(e,t)=>{let r=e[t];return"function"==typeof r?r:()=>{}},T=(e,t,r)=>{let i=e;return!0===r?i=`${t.identifier}:${e}`:"string"==typeof r&&(i=`${r}:${e}`),i},A=(e,t,r)=>{let{bubbles:i,cancelable:n,composed:s}=t||{bubbles:!0,cancelable:!0,composed:!0};return t&&Object.assign(r,{originalEvent:t}),new CustomEvent(e,{bubbles:i,cancelable:n,composed:s,detail:r})},p={debug:!1,logger:console,dispatchEvent:!0,eventPrefix:!0},f=class{constructor(e,t={}){var r,i,n;this.log=(e,t)=>{this.debug&&(this.logger.groupCollapsed(`%c${this.controller.identifier} %c#${e}`,"color: #3B82F6","color: unset"),this.logger.log(Object.assign({controllerId:this.controllerId},t)),this.logger.groupEnd())},this.warn=e=>{this.logger.warn(`%c${this.controller.identifier} %c${e}`,"color: #3B82F6; font-weight: bold","color: unset")},this.dispatch=(e,t={})=>{if(this.dispatchEvent){let{event:r}=t,i=F(t,["event"]),n=this.extendedEvent(e,r||null,i);this.targetElement.dispatchEvent(n),this.log("dispatchEvent",Object.assign({eventName:n.type},i))}},this.call=(e,t={})=>{let r=this.controller[e];if("function"==typeof r)return r.call(this.controller,t)},this.extendedEvent=(e,t,r)=>{let{bubbles:i,cancelable:n,composed:s}=t||{bubbles:!0,cancelable:!0,composed:!0};return t&&Object.assign(r,{originalEvent:t}),new CustomEvent(this.composeEventName(e),{bubbles:i,cancelable:n,composed:s,detail:r})},this.composeEventName=e=>{let t=e;return!0===this.eventPrefix?t=`${this.controller.identifier}:${e}`:"string"==typeof this.eventPrefix&&(t=`${this.eventPrefix}:${e}`),t},this.debug=null!==(i=null!==(r=t?.debug)&&void 0!==r?r:e.application.stimulusUseDebug)&&void 0!==i?i:p.debug,this.logger=null!==(n=t?.logger)&&void 0!==n?n:p.logger,this.controller=e,this.controllerId=e.element.id||e.element.dataset.id,this.targetElement=t?.element||e.element;let{dispatchEvent:s,eventPrefix:o}=Object.assign({},p,t);Object.assign(this,{dispatchEvent:s,eventPrefix:o}),this.controllerInitialize=e.initialize.bind(e),this.controllerConnect=e.connect.bind(e),this.controllerDisconnect=e.disconnect.bind(e)}},N={events:["click","touchend"],onlyVisible:!0,dispatchEvent:!0,eventPrefix:!0},k=(e,t={})=>{let r=e,{onlyVisible:i,dispatchEvent:n,events:s,eventPrefix:o}=Object.assign({},N,t),l=e=>{let s=t?.element||r.element;if(!(s.contains(e.target)||!j(s)&&i)&&(r.clickOutside&&r.clickOutside(e),n)){let t=T("click:outside",r,o),i=A(t,e,{controller:r});s.dispatchEvent(i)}},a=()=>{s?.forEach((e=>{window.addEventListener(e,l,!0)}))},c=()=>{s?.forEach((e=>{window.removeEventListener(e,l,!0)}))},h=r.disconnect.bind(r);return Object.assign(r,{disconnect(){c(),h()}}),a(),[a,c]},E=class extends g{};E.debounces=[];var P=200,y=(e,t=P)=>{let r=null;return function(){let i=Array.from(arguments),n=this,s=i.map((e=>e.params)),o=()=>(i.forEach(((e,t)=>e.params=s[t])),e.apply(n,i));r&&clearTimeout(r),r=setTimeout(o,t)}},V=(e,t)=>{let r=e;r.constructor.debounces.forEach((e=>{if("string"==typeof e&&(r[e]=y(r[e],t?.wait)),"object"==typeof e){let{name:i,wait:n}=e;if(!i)return;r[i]=y(r[i],n||t?.wait)}}))},w=class extends f{constructor(e,t={}){super(e,t),this.observe=()=>{try{this.observer.observe(this.targetElement,this.options)}catch(e){this.controller.application.handleError(e,"At a minimum, one of childList, attributes, and/or characterData must be true",{})}},this.unobserve=()=>{this.observer.disconnect()},this.mutation=e=>{this.call("mutate",e),this.log("mutate",{entries:e}),this.dispatch("mutate",{entries:e})},this.targetElement=t?.element||e.element,this.controller=e,this.options=t,this.observer=new MutationObserver(this.mutation),this.enhanceController(),this.observe()}enhanceController(){let e=this.controller.disconnect.bind(this.controller),t=()=>{this.unobserve(),e()};Object.assign(this.controller,{disconnect:t})}},C=(e,t={})=>{let r=new w(e,t);return[r.observe,r.unobserve]},L={dispatchEvent:!0,eventPrefix:!0},I=(e,t={})=>{let r=e,{dispatchEvent:i,eventPrefix:n}=Object.assign({},L,t),s=t?.element||r.element,o=e=>{let[t]=e;if(m(r,"resize").call(r,t.contentRect),i){let e=T("resize",r,n),i=A(e,null,{controller:r,entry:t});s.dispatchEvent(i)}},l=r.disconnect.bind(r),a=new ResizeObserver(o),c=()=>{a.observe(s)},h=()=>{a.unobserve(s)};return Object.assign(r,{disconnect(){h(),l()}}),c(),[c,h]},x=class extends f{constructor(e,t={}){super(e,t),this.observe=()=>{this.observer.observe(this.targetElement,{subtree:!0,characterData:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:[this.targetSelector,this.scopedTargetSelector]})},this.unobserve=()=>{this.observer.disconnect()},this.mutation=e=>{for(let t of e)switch(t.type){case"attributes":let e=t.target.getAttribute(t.attributeName),r=t.oldValue;if(t.attributeName===this.targetSelector||t.attributeName===this.scopedTargetSelector){let i=this.targetsUsedByThisController(r),n=this.targetsUsedByThisController(e),s=i.filter((e=>!n.includes(e))),o=n.filter((e=>!i.includes(e)));s.forEach((e=>this.targetRemoved(this.stripIdentifierPrefix(e),t.target,"attributeChange"))),o.forEach((e=>this.targetAdded(this.stripIdentifierPrefix(e),t.target,"attributeChange")))}break;case"characterData":let i=this.findTargetInAncestry(t.target);if(null==i)return;this.targetsUsedByThisControllerFromNode(i).forEach((e=>{this.targetChanged(this.stripIdentifierPrefix(e),i,"domMutation")}));break;case"childList":let{addedNodes:n,removedNodes:s}=t;n.forEach((e=>this.processNodeDOMMutation(e,this.targetAdded))),s.forEach((e=>this.processNodeDOMMutation(e,this.targetRemoved)))}},this.controller=e,this.options=t,this.targetElement=e.element,this.identifier=e.scope.identifier,this.identifierPrefix=`${this.identifier}.`,this.targetSelector=e.scope.schema.targetAttribute,this.scopedTargetSelector=`data-${this.identifier}-target`,this.targets=t.targets||e.constructor.targets,this.prefixedTargets=this.targets.map((e=>`${this.identifierPrefix}${e}`)),this.observer=new MutationObserver(this.mutation),this.enhanceController(),this.observe()}processNodeDOMMutation(e,t){let r=e,i=t,n=[];"#text"==r.nodeName||0==this.targetsUsedByThisControllerFromNode(r).length?(i=this.targetChanged,r=this.findTargetInAncestry(e)):n=this.targetsUsedByThisControllerFromNode(r),null!=r&&(0==n.length&&(n=this.targetsUsedByThisControllerFromNode(r)),n.forEach((e=>{i.call(this,this.stripIdentifierPrefix(e),r,"domMutation")})))}findTargetInAncestry(e){let t=e,r=[];for("#text"!=t.nodeName&&(r=this.targetsUsedByThisControllerFromNode(t));null!==t.parentNode&&t.parentNode!=this.targetElement&&0==r.length;)if(t=t.parentNode,"#text"!==t.nodeName&&this.targetsUsedByThisControllerFromNode(t).length>0)return t;return"#text"==t.nodeName||null==t.parentNode?null:t.parentNode==this.targetElement&&this.targetsUsedByThisControllerFromNode(t).length>0?t:null}targetAdded(e,t,r){let i=`${e}TargetAdded`;this.controller[i]&&m(this.controller,i).call(this.controller,t),this.log("targetAdded",{target:e,node:t,trigger:r})}targetRemoved(e,t,r){let i=`${e}TargetRemoved`;this.controller[i]&&m(this.controller,i).call(this.controller,t),this.log("targetRemoved",{target:e,node:t,trigger:r})}targetChanged(e,t,r){let i=`${e}TargetChanged`;this.controller[i]&&m(this.controller,i).call(this.controller,t),this.log("targetChanged",{target:e,node:t,trigger:r})}targetsUsedByThisControllerFromNode(e){if("#text"==e.nodeName||"#comment"==e.nodeName)return[];let t=e;return this.targetsUsedByThisController(t.getAttribute(this.scopedTargetSelector)||t.getAttribute(this.targetSelector))}targetsUsedByThisController(e){e=e||"";let t=this.stripIdentifierPrefix(e).split(" ");return this.targets.filter((e=>-1!==t.indexOf(e)))}stripIdentifierPrefix(e){return e.replace(new RegExp(this.identifierPrefix,"g"),"")}enhanceController(){let e=this.controller.disconnect.bind(this.controller),t=()=>{this.unobserve(),e()};Object.assign(this.controller,{disconnect:t})}},D=(e,t={})=>{let r=new x(e,t);return[r.observe,r.unobserve]},O=class extends g{};O.throttles=[];var _=e=>{let t=e,r=e=>{let{innerWidth:r,innerHeight:i}=window,n={height:i||1/0,width:r||1/0,event:e};m(t,"windowResize").call(t,n)},i=t.disconnect.bind(t),n=()=>{window.addEventListener("resize",r),r()},s=()=>{window.removeEventListener("resize",r)};return Object.assign(t,{disconnect(){s(),i()}}),n(),[n,s]};export{k as a,V as b,C as c,I as d,D as e,_ as f};